{% extends "core/base.html" %}
{% load static %}

<title> {% block title %}Profile{% endblock title %}</title>

{% block content %}

<div class="container">
    <div class="d-flex mt-4">
        <h2>Account</h2>
        {% if user.is_staff %}
        <ul class="ms-auto" style="list-style: none;">
            <li class="mb-1">
                <a href= '{% url "item:new" %}' class="text-decoration-none text-dark ">
                    <img src="{% static "img/new.png" %}" width="20rem">
                    <span class="fs-6">Add Items</span>
                </a>
            </li>
            <li>
                <a href="{% url "sign-out" %}" class="text-decoration-none text-dark">
                    <img src="{% static "img/log-out.png" %}" width="20rem">
                    <span class="fs-6">Sign out</span>
                </a>
            </li>
        </ul>
        {% else %}
        <a href="{% url "sign-out" %}" class="text-decoration-none text-dark ms-auto">
            <img src="{% static "img/log-out.png" %}" width="25rem">
            <span class="fs-6">Sign out</span>
        </a>
        {% endif %}
    </div>

    <div class="mt-3 mb-4">
        <span class="text-success-empahasis">Username : </span>{{ request.user.username }} <br>
        {% if request.user.get_full_name %}
        <span>Full Name : </span>{{ request.user.get_full_name }} <br>
        {% endif %}
        <span>E-mail : </span>{{ request.user.email }} <br>
        <br>
        <button onclick="location.href= '{% url "account:add_address" %}' " class="btn btn-outline-warning text-dark">Add address</button>
        <hr>
    </div>

    <div>
        <h2>My Orders</h2>
        <div class="card bg-body-tertiary p-4">
            <div class="row pb-3">
                <div class="d-flex mb-2">
                    <span class="text-secondary me-auto">Order ID # 4551115</span>
                    <!-- if ordered warning and if shipped success -->
                    <div>
                        <span class="badge bg-warning text-wrap rounded-pill">Ordered</span>
                    </div>
                </div>
                
                <div class="col-lg-1 col-md-1 col-sm-1 col-3">
                  {% comment %} <a href="{% url "item:detail" item.product.id %}"> {% endcomment %}
                    <img 
                    {% comment %} src="{{ item.product.image.url }}"  {% endcomment %}
                    alt='img'
                    class="img-fluid" width="60rem"/>
                  {% comment %} </a> {% endcomment %}
                </div>
          
                <div class="col-lg-4 col-md-4 col-sm-4 col-5">
                  <div class="pt-2">
                    {% comment %} {{ item.product.name }} {% endcomment %}
                    Product
                </div>
                  {% comment %} {% if item.product.description %} {% endcomment %}
                    <span class="text-secondary" style="font-size: .8rem;">
                        {% comment %} {{ item.product.description }} {% endcomment %}
                        Product Description sjfjasfjsfjvnljfnsfhakf
                    </span>
                  {% comment %} {% endif %} {% endcomment %}
                </div>
          
                <div class="col-lg-2 col-md-2 col-sm-2 col-4 mt-4">
                  {% comment %} ₹ {{ item.product.price }} {% endcomment %}
                  ₹ 6432
                </div>
          
                <!-- ------------ quantity ---------- -->
                <div class="col-lg-3 col-md-3 col-sm-3 col-5 mt-4">
                  <div class="d-flex">
                    <input  type="text" class="text-center form-control" 
                    {% comment %} value="{{ item.quantity }}"  {% endcomment %}
                    value="1"
                    style="width: 3rem; height: 1.5rem;" readonly>
                  </div>
                </div>
          
                <!-- --------------- subtotal ------------------ -->
                <div class="col-lg-2 col-md-2 col-sm-2 col-6 mt-4">
                  {% comment %} -{{ item.subtotal }} {% endcomment %}
                  - 3215
                </div>
            </div>
            <hr>
            
        </div>
    </div>
</div>
{% endblock content %}